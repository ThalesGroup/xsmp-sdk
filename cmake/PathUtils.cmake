
if (CMAKE_HOST_SYSTEM_NAME STREQUAL Windows)
    set(ENV_LIB_PATH PATH)
    set(ENV_SEPARATOR ";")
elseif(CMAKE_HOST_SYSTEM_NAME STREQUAL Darwin)
    set(ENV_LIB_PATH DYLD_LIBRARY_PATH)
    set(ENV_SEPARATOR ":")
else()
    set(ENV_LIB_PATH LD_LIBRARY_PATH)
    set(ENV_SEPARATOR ":")
endif()
set(ENV_PATH PATH)
set(ENV_PYTHON_PATH PYTHONPATH)


function(GenericPathAppend variable path)
    if (CMAKE_HOST_SYSTEM_NAME STREQUAL Windows)
        string(REPLACE "/" "\\\\" path "${path}")
    endif()
    if(DEFINED ENV{${variable}})
        set(ENV{${variable}} "$ENV{${variable}}${ENV_SEPARATOR}${path}")
    else()
        set(ENV{${variable}} "${path}")
    endif()
endfunction(GenericPathAppend)

function(GenericPathPrepend variable path)
    if (CMAKE_HOST_SYSTEM_NAME STREQUAL Windows)
        string(REPLACE "/" "\\\\" path "${path}")
    endif()
    if(DEFINED ENV{${variable}})
        set(ENV{${variable}} "${path}${ENV_SEPARATOR}$ENV{${variable}}")
    else()
        set(ENV{${variable}} "${path}")
    endif()
endfunction(GenericPathPrepend)


function(PythonPathAppend path)
    GenericPathAppend(${ENV_PYTHON_PATH} ${path})
endfunction(PythonPathAppend)

function(PythonPathPrepend path)
    GenericPathPrepend(${ENV_PYTHON_PATH} ${path})
endfunction(PythonPathPrepend)

function(PathAppend path)
    GenericPathAppend(${ENV_PATH} ${path})
endfunction(PathAppend)

function(PathPrepend path)
    GenericPathPrepend(${ENV_PATH} ${path})
endfunction(PathPrepend)

function(LibraryPathAppend path)
    GenericPathAppend(${ENV_LIB_PATH} ${path})
endfunction(LibraryPathAppend)

function(LibraryPathPrepend path)
    GenericPathPrepend(${ENV_PYTHON_PATH} ${path})
endfunction(LibraryPathPrepend)
